<Layouts.flash_group flash={@flash} />

<!-- Prism.js for syntax highlighting -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-elixir.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>

<div class="min-h-screen bg-gradient-to-br from-base-100 to-base-200">
  <!-- Fixed Navigation Sidebar -->
  <div class="fixed left-0 top-20 h-full w-64 bg-base-100 border-r border-base-300 overflow-y-auto z-10 hidden lg:block">
    <div class="p-6">
      <h3 class="text-lg font-bold mb-4 text-base-content">Tutorial Navigation</h3>
      <nav class="space-y-2">
        <a href="#step-0" class="block px-4 py-2 rounded-lg hover:bg-base-200 transition-colors text-sm">
          <span class="font-semibold text-primary">Step 0:</span>
          <span class="text-base-content/70 block">Set Up Phoenix Project</span>
        </a>
        <a href="#step-1" class="block px-4 py-2 rounded-lg hover:bg-base-200 transition-colors text-sm">
          <span class="font-semibold text-accent">Step 1:</span>
          <span class="text-base-content/70 block">Add Selecto Dependencies</span>
        </a>
        <a href="#step-2" class="block px-4 py-2 rounded-lg hover:bg-base-200 transition-colors text-sm">
          <span class="font-semibold text-success">Step 2:</span>
          <span class="text-base-content/70 block">Generate Products Domain</span>
        </a>
        <a href="#step-2b" class="block px-4 py-2 rounded-lg hover:bg-base-200 transition-colors text-sm">
          <span class="font-semibold text-purple-600">Step 2b:</span>
          <span class="text-base-content/70 block">Customize with Overlays</span>
        </a>
        <a href="#step-3" class="block px-4 py-2 rounded-lg hover:bg-base-200 transition-colors text-sm">
          <span class="font-semibold text-secondary">Step 3:</span>
          <span class="text-base-content/70 block">Generate Customers Domain</span>
        </a>
        <a href="#step-4" class="block px-4 py-2 rounded-lg hover:bg-base-200 transition-colors text-sm">
          <span class="font-semibold text-warning">Step 4:</span>
          <span class="text-base-content/70 block">Generate Orders Domain</span>
        </a>
        <a href="#step-5" class="block px-4 py-2 rounded-lg hover:bg-base-200 transition-colors text-sm">
          <span class="font-semibold text-info">Step 5:</span>
          <span class="text-base-content/70 block">Generate Employees Domain</span>
        </a>
        <div class="divider my-4"></div>
        <a href="/" class="block px-4 py-2 rounded-lg hover:bg-base-200 transition-colors text-sm">
          <svg class="w-4 h-4 inline mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
          </svg>
          Back to Home
        </a>
      </nav>
    </div>
  </div>

  <!-- Main Content Area -->
  <div>
    <!-- Header Section -->
    <div class="bg-primary text-primary-content">
      <div class="py-12">
        <div class="mx-auto">
        <div class="flex items-center gap-4 mb-6">
          <div class="p-3 bg-primary-content/10 rounded-xl">
            <svg class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25A8.966 8.966 0 0118 3.75c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0118 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" />
            </svg>
          </div>
          <div>
            <h1 class="text-4xl font-bold mb-2">Selecto Integration Tutorial</h1>
            <p class="text-xl text-primary-content/80">Step-by-step guide to integrate Selecto libraries with Phoenix</p>
          </div>
        </div>
        
        <div class="flex flex-wrap gap-3">
          <div class="badge badge-outline badge-lg text-primary-content border-primary-content/30">
            <svg class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
            Phoenix LiveView
          </div>
          <div class="badge badge-outline badge-lg text-primary-content border-primary-content/30">
            <svg class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4" />
            </svg>
            Elixir & Ecto
          </div>
          <div class="badge badge-outline badge-lg text-primary-content border-primary-content/30">
            <svg class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
            </svg>
            Data Visualization
          </div>
        </div>
      </div>
    </div>
  </div>

    <!-- Content Section -->
    <div class="py-12">
      <div class="mx-auto">
      <!-- Navigation breadcrumb -->
      <div class="breadcrumbs text-sm mb-8">
        <ul>
          <li><a href="/" class="text-primary hover:text-primary-focus">Home</a></li>
          <li class="text-base-content/60">Tutorial</li>
        </ul>
      </div>

      <!-- Tutorial Content -->
      <div class="space-y-8">
        
        <!-- Initialize Prism.js after page loads and handle navigation -->
        <script>
          // Ensure Prism highlights after LiveView updates
          document.addEventListener('DOMContentLoaded', function() {
            if (typeof Prism !== 'undefined') {
              Prism.highlightAll();
            }

            // Smooth scrolling for navigation links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
              anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                  target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                  });
                }
              });
            });

            // Highlight active section in navigation
            const observerOptions = {
              root: null,
              rootMargin: '0px 0px -50% 0px',
              threshold: 0
            };

            const observer = new IntersectionObserver((entries) => {
              entries.forEach(entry => {
                if (entry.isIntersecting) {
                  // Remove all active classes
                  document.querySelectorAll('a[href^="#"]').forEach(link => {
                    link.classList.remove('bg-base-200');
                  });
                  // Add active class to current section link
                  const activeLink = document.querySelector(`a[href="#${entry.target.id}"]`);
                  if (activeLink) {
                    activeLink.classList.add('bg-base-200');
                  }
                }
              });
            }, observerOptions);

            // Observe all sections with IDs
            document.querySelectorAll('[id^="step-"]').forEach(section => {
              observer.observe(section);
            });
          });
        </script>
        <!-- Tutorial Structure Card -->
        <div class="card bg-base-100 shadow-xl">
          <div class="card-body">
            <h2 class="card-title text-2xl mb-4">
              <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
              </svg>
              Tutorial Structure
            </h2>
            <p class="text-base-content/80 mb-4">This tutorial is organized into steps, with each step building upon the previous one. You can:</p>
            <div class="grid gap-3">
              <div class="flex items-center gap-3 p-3 bg-base-200 rounded-lg">
                <div class="w-2 h-2 bg-primary rounded-full"></div>
                <span>Follow along from the beginning by checking out the <code class="bg-base-300 px-2 py-1 rounded text-sm">main</code> branch</span>
              </div>
              <div class="flex items-center gap-3 p-3 bg-base-200 rounded-lg">
                <div class="w-2 h-2 bg-primary rounded-full"></div>
                <span>Jump to any step by checking out <code class="bg-base-300 px-2 py-1 rounded text-sm">tutorial-step-N</code> (where N is the step number)</span>
              </div>
              <div class="flex items-center gap-3 p-3 bg-base-200 rounded-lg">
                <div class="w-2 h-2 bg-primary rounded-full"></div>
                <span>Compare your work with the reference implementation by diffing against the step branches</span>
              </div>
            </div>
          </div>
        </div>



        <!-- Step 0 -->
        <div id="step-0" class="card bg-base-100 shadow-xl scroll-mt-6">
          <div class="card-body">
            <div class="flex items-center gap-4 mb-4">
              <div class="w-12 h-12 bg-gradient-to-br from-primary to-secondary rounded-xl flex items-center justify-center text-white font-bold text-lg">0</div>
              <div>
                <h2 class="card-title text-2xl">Set Up the Basic Phoenix Project</h2>
                <p class="text-base-content/70">Initialize your development environment</p>
              </div>
            </div>
            <p class="text-base-content/80 mb-6">Before integrating Selecto, you need to set up the basic Phoenix application with the Northwind database. This step ensures you have a working Phoenix app with the database schema and sample data loaded.</p>
            
            <div class="space-y-6">
              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                  </svg>
                  Clone the Repository
                </h3>
                <div class="relative">
                  <pre><code class="language-bash">$ git clone &lt;repository-url&gt;
$ cd selecto_northwind</code></pre>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10" />
                  </svg>
                  Initialize Git Submodules
                </h3>
                <p class="text-base-content/70 mb-3">The project includes Selecto libraries as git submodules in the vendor directory:</p>
                <div class="relative">
                  <pre><code class="language-bash">$ git submodule update --init --recursive</code></pre>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                  </svg>
                  Install Dependencies
                </h3>
                <p class="text-base-content/70 mb-3">Install all Phoenix and Elixir dependencies:</p>
                <div class="relative">
                  <pre><code class="language-bash">$ mix setup</code></pre>
                </div>
                <div class="alert alert-info">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    <div class="font-semibold">This command runs:</div>
                    <ul class="mt-2 space-y-1 text-sm">
                      <li>‚Ä¢ <code>mix deps.get</code> - Fetches all dependencies</li>
                      <li>‚Ä¢ <code>mix ecto.create</code> - Creates the database</li>
                      <li>‚Ä¢ <code>mix ecto.migrate</code> - Runs database migrations</li>
                      <li>‚Ä¢ <code>mix run priv/repo/seeds.exs</code> - Seeds the Northwind sample data</li>
                      <li>‚Ä¢ <code>npm install</code> - Installs JavaScript dependencies</li>
                    </ul>
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  Verify the Setup
                </h3>
                <p class="text-base-content/70 mb-3">Start the Phoenix server to ensure everything is working:</p>
                <div class="relative">
                  <pre class="mb-4"><code class="language-bash">$ mix phx.server</code></pre>
                </div>
                <p class="text-base-content/70">Visit <a href="http://localhost:4000" class="link link-primary">http://localhost:4000</a> and you should see the Northwind Demo landing page with navigation links to Customers, Catalog, Orders, and Analytics sections.</p>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4" />
                  </svg>
                  Check Database Connection
                </h3>
                <p class="text-base-content/70 mb-3">Verify the database is properly seeded with data:</p>
                <pre><code class="language-elixir">$ iex -S mix
# In the IEx console:
iex> alias SelectoNorthwind.Repo
iex> import Ecto.Query
# Check for data in the tables
iex> Repo.aggregate(from(p in "products"), :count)
# Should return 77 (or similar number of products)
iex> Repo.aggregate(from(c in "customers"), :count)
# Should return 91 (or similar number of customers)</code></pre>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                  </svg>
                  Development Commands Reference
                </h3>
                <p class="text-base-content/70 mb-3">Common commands you'll use during development:</p>
                <pre><code class="language-bash"># Start Phoenix server
$ mix phx.server
# Start server with interactive Elixir shell
$ iex -S mix phx.server
# Run tests
$ mix test
# Run precommit checks
$ mix precommit
# Reset database (drop, create, migrate, seed)
$ mix ecto.reset</code></pre>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                  </svg>
                  Next Step
                </h3>
                <p class="text-base-content/70">With the basic Phoenix application set up and the Northwind database loaded, you're ready to proceed to Step 1 where we'll add the Selecto dependencies.</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Step 1 Expanded -->
        <div id="step-1" class="card bg-base-100 shadow-xl scroll-mt-6">
          <div class="card-body">
            <div class="flex items-center gap-4 mb-4">
              <div class="w-12 h-12 bg-gradient-to-br from-accent to-accent-focus rounded-xl flex items-center justify-center text-white font-bold text-lg">1</div>
              <div>
                <h2 class="card-title text-2xl">Add Selecto Dependencies</h2>
                <p class="text-base-content/70">Configure your Phoenix project with Selecto libraries</p>
              </div>
            </div>
            <p class="text-base-content/80 mb-6">The first step is to add the Selecto libraries to your Phoenix project. These libraries provide powerful data selection, filtering, and UI components for your application.</p>
            
            <div class="space-y-6">
              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                  </svg>
                  Add Dependencies to mix.exs
                </h3>
                <p class="text-base-content/70 mb-3">Open your <code class="bg-base-300 px-2 py-1 rounded text-sm">mix.exs</code> file and add the following dependencies to the <code class="bg-base-300 px-2 py-1 rounded text-sm">deps</code> function:</p>
                <div class="relative">
                  <pre><code class="language-elixir">defp deps do
  [
    # ... existing dependencies ...

    # Selecto libraries
    <%= "{" %>:selecto, path: "./vendor/selecto"<%= "}" %>,
    <%= "{" %>:selecto_components, path: "./vendor/selecto_components"<%= "}" %>,
    <%= "{" %>:selecto_mix, path: "./vendor/selecto_mix", only: [:dev, :test]<%= "}" %>
  ]
end</code></pre>
                </div>
                
                <div class="alert alert-warning mt-4">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"></path>
                  </svg>
                  <div>
                    <strong>Note:</strong> These dependencies are referenced as local paths because they are included as git submodules in the vendor directory. In a production environment, you would typically reference them from Hex or GitHub.
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  What Each Library Does
                </h3>
                <div class="grid gap-4">
                  <div class="flex items-start gap-3 p-4 bg-base-200 rounded-lg">
                    <div class="w-2 h-2 bg-primary rounded-full mt-2"></div>
                    <div>
                      <strong><code class="bg-base-300 px-2 py-1 rounded text-sm">selecto</code></strong>: Core library providing the query builder and data selection engine
                    </div>
                  </div>
                  <div class="flex items-start gap-3 p-4 bg-base-200 rounded-lg">
                    <div class="w-2 h-2 bg-primary rounded-full mt-2"></div>
                    <div>
                      <strong><code class="bg-base-300 px-2 py-1 rounded text-sm">selecto_components</code></strong>: Pre-built Phoenix LiveView components for data tables, filters, and visualizations
                    </div>
                  </div>
                  <div class="flex items-start gap-3 p-4 bg-base-200 rounded-lg">
                    <div class="w-2 h-2 bg-primary rounded-full mt-2"></div>
                    <div>
                      <strong><code class="bg-base-300 px-2 py-1 rounded text-sm">selecto_mix</code></strong>: Mix tasks and generators for scaffolding Selecto-based views and components (development only)
                    </div>
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                  </svg>
                  Install Dependencies
                </h3>
                <p class="text-base-content/70 mb-3">After adding the dependencies, fetch and compile them:</p>
                <div class="relative">
                  <pre><code class="language-bash">$ mix deps.get
$ mix deps.compile</code></pre>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                  </svg>
                  Integrate SelectoComponents Assets
                </h3>
                <p class="text-base-content/70 mb-3">Run the integration task to set up the required JavaScript and CSS assets:</p>
                <div class="relative">
                  <pre><code class="language-bash">$ mix selecto.components.integrate</code></pre>
                </div>
                <div class="alert alert-info mt-4">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    <div class="font-semibold">This command will:</div>
                    <ul class="mt-2 space-y-1 text-sm">
                      <li>‚Ä¢ Add SelectoComponents hooks to <code class="bg-base-300 px-1 rounded">assets/js/app.js</code></li>
                      <li>‚Ä¢ Add SelectoComponents styles import to <code class="bg-base-300 px-1 rounded">assets/css/app.css</code></li>
                      <li>‚Ä¢ Ensure Chart.js and Alpine.js dependencies are configured in <code class="bg-base-300 px-1 rounded">assets/package.json</code></li>
                    </ul>
                  </div>
                </div>
                <p class="text-base-content/70 mt-4 mb-3">After running the integration task, build the assets:</p>
                <div class="relative">
                  <pre><code class="language-bash">$ mix assets.build</code></pre>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  Verify Installation
                </h3>
                <p class="text-base-content/70 mb-3">You can verify that the Selecto libraries are properly installed by running:</p>
                <div class="relative">
                  <pre><code class="language-bash">$ mix help | grep selecto</code></pre>
                </div>
                <div class="alert alert-success">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    <div class="font-semibold">You should see several new Mix tasks available, including:</div>
                    <ul class="mt-2 space-y-1 text-sm">
                      <li>‚Ä¢ <code>mix selecto.gen.live</code> - Generate a LiveView with Selecto components</li>
                      <li>‚Ä¢ <code>mix selecto.gen.domain</code> - Generate a domain configuration</li>
                      <li>‚Ä¢ <code>mix selecto.gen.dashboard</code> - Generate a dashboard view</li>
                      <li>‚Ä¢ <code>mix selecto.integrate.components</code> - Integrate SelectoComponents assets</li>
                    </ul>
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                  </svg>
                  Next Step
                </h3>
                <div class="alert alert-error mb-4">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"></path>
                  </svg>
                  <div>
                    <strong>üö® CRITICAL - AI Agents MUST Follow:</strong>
                    <ol class="list-decimal ml-6 mt-2 space-y-1">
                      <li><strong>Stop the Phoenix server</strong> if it's currently running (Ctrl+C twice or kill the process)</li>
                      <li>Wait for the server to fully shut down (verify no process is listening on port 4000)</li>
                      <li><strong>Do NOT proceed to Step 2</strong> until you have confirmed the server has been stopped and restarted</li>
                    </ol>
                    <p class="mt-2">The server <strong>MUST</strong> be restarted after adding dependencies to ensure proper compilation of the new Selecto libraries. This is not optional.</p>
                  </div>
                </div>
                <p class="text-base-content/70">With the dependencies installed and assets integrated, you're ready to move on to Step 2, where we'll generate our first Selecto-powered view for the Products table.</p>
              </div>
            </div>
          </div>
        </div>

        <div id="step-2" class="card bg-base-100 shadow-xl scroll-mt-6">
          <div class="card-body">
            <div class="flex items-center gap-4 mb-4">
              <div class="w-12 h-12 bg-gradient-to-br from-success to-success-focus rounded-xl flex items-center justify-center text-white font-bold text-lg">2</div>
              <div>
                <h2 class="card-title text-2xl">Generate Products Domain with Selecto</h2>
                <p class="text-base-content/70">Create your first Selecto-powered interface</p>
              </div>
            </div>
            <p class="text-base-content/80 mb-6">In this step, we'll use the <code class="bg-base-300 px-2 py-1 rounded text-sm">mix selecto.gen.domain</code> task to generate Selecto domain configuration for the Product schema and its related schemas (Categories, Suppliers, and Tags) from the Catalog context.</p>

            <div class="alert alert-error mb-6">
              <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"></path>
              </svg>
              <div>
                <strong>ü§ñ AI Agents - Step 2 Workflow Summary:</strong>
                <p class="mt-2 mb-2">This step has <strong>multiple sequential tasks</strong> that must be completed in order:</p>
                <ol class="list-decimal ml-6 space-y-1 text-sm">
                  <li>Run <code class="bg-base-300 px-1 rounded text-xs">mix selecto.gen.saved_views</code> command</li>
                  <li>Run <code class="bg-base-300 px-1 rounded text-xs">mix selecto.gen.domain</code> command (with Y/Y responses)</li>
                  <li>Edit <code class="bg-base-300 px-1 rounded text-xs">lib/selecto_northwind/selecto_domains/products_domain.ex</code> to add SavedViewContext</li>
                  <li>Run <code class="bg-base-300 px-1 rounded text-xs">mix ecto.migrate</code></li>
                  <li>Edit <code class="bg-base-300 px-1 rounded text-xs">lib/selecto_northwind_web/router.ex</code> to add the LiveView route</li>
                  <li>Run <code class="bg-base-300 px-1 rounded text-xs">mix assets.build</code></li>
                  <li><strong>CRITICAL:</strong> Restart the Phoenix server (stop then start <code class="bg-base-300 px-1 rounded text-xs">mix phx.server</code>)</li>
                  <li>Verify at <code class="bg-base-300 px-1 rounded text-xs">http://localhost:4000/products_selecto</code></li>
                </ol>
                <p class="mt-2 font-semibold">Do NOT skip any steps or change the order!</p>
              </div>
            </div>

            <div class="alert alert-success mb-6">
              <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <div>
                <strong>üè∑Ô∏è New: Product Tagging</strong> - The Northwind database now includes a many-to-many tagging system for products! Tags like "Organic", "Kosher", "Gluten-Free", "Vegan", and more are available to filter and categorize products.
              </div>
            </div>
            
            <div class="space-y-6">
              <div>
                <h3 class="text-lg font-semibold mb-3">Understanding Selecto Domains</h3>
                <p class="text-base-content/70">Selecto domains provide a configuration layer on top of your existing Ecto schemas. They define how tables relate to each other, what fields to display, and how to query the data efficiently.</p>
              </div>
              
              <div>
                <h3 class="text-lg font-semibold mb-3">Generate the Products Domain</h3>
                <p class="text-base-content/70 mb-3">Run the following Mix tasks to generate the Products domain with Categories, Suppliers, and Tags using optimized join modes for efficient querying:</p>

                <div class="alert alert-warning mb-4">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"></path>
                  </svg>
                  <div>
                    <strong>ü§ñ AI Agent Instructions:</strong>
                    <p class="mt-2">Execute these commands <strong>in order</strong>. The second command requires interactive responses:</p>
                    <ol class="list-decimal ml-6 mt-2 space-y-1">
                      <li>Run the first command: <code class="bg-base-300 px-2 py-1 rounded text-xs">mix selecto.gen.saved_views SelectoNorthwind</code></li>
                      <li>For the second command, you MUST respond to two prompts with "Y":
                        <ul class="list-disc ml-6 mt-1 text-xs">
                          <li>Prompt 1: "Do you want to proceed?" ‚Üí Answer: <code>Y</code></li>
                          <li>Prompt 2: "Integrate SelectoComponents?" ‚Üí Answer: <code>Y</code></li>
                        </ul>
                      </li>
                      <li><strong>Automated execution:</strong> To run non-interactively, use: <code class="bg-yellow-100 dark:bg-yellow-900 text-yellow-900 dark:text-yellow-100 px-2 py-1 rounded text-xs">echo -e "Y\nY" | mix selecto.gen.domain ...</code></li>
                    </ol>
                  </div>
                </div>

                <h4 class="font-semibold mt-4 mb-2">Step 2a: Generate Saved Views Infrastructure</h4>
                <div class="relative">
                  <pre class="mb-4"><code class="language-bash">$ mix selecto.gen.saved_views SelectoNorthwind</code></pre>
                </div>

                <h4 class="font-semibold mb-2">Step 2b: Generate Products Domain</h4>
                <div class="relative">
                  <pre class="mb-4"><code class="language-bash">$ mix selecto.gen.domain SelectoNorthwind.Catalog.Product \
  --expand-schemas supplier,category,order_details \
  --expand-star category:category_name \
  --expand-star supplier:company_name \
  --expand-tag tags:name \
  --live --saved-views --path /products_selecto</code></pre>
                </div>

                <div class="alert alert-success mt-4 mb-4">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    <strong>‚ú® Smart Join Modes Explained:</strong>
                    <ul class="list-disc ml-6 mt-2 space-y-1 text-sm">
                      <li><code class="bg-success/20 px-2 py-1 rounded">--expand-schemas supplier,category,order_details</code> - Fully expand these associations with all columns</li>
                      <li><code class="bg-success/20 px-2 py-1 rounded">--expand-star category:category_name</code> - Lookup table (8 categories), displays name, filters by ID</li>
                      <li><code class="bg-success/20 px-2 py-1 rounded">--expand-star supplier:company_name</code> - Lookup table (29 suppliers), displays name, filters by ID</li>
                      <li><code class="bg-success/20 px-2 py-1 rounded">--expand-tag tags:name</code> - Many-to-many tags with ID-based filtering (prevents query denormalization)</li>
                    </ul>
                    <p class="mt-2 text-sm">The <code>--expand-schemas</code> flag fully expands associated schemas with all their columns. The special join modes (star, tag) generate optimized configurations that display user-friendly names while filtering on indexed ID columns for better performance.</p>
                  </div>
                </div>

                <div class="alert alert-info mb-4">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    <strong>Note:</strong> The <code>--path /products_selecto</code> option specifies the route path (with leading slash) that the LiveView will use for URL navigation. The <code>--saved-views</code> flag enables persistent saved views for this domain.
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3">What This Command Does</h3>
                <div class="grid gap-3">
                  <div class="flex items-start gap-3 p-3 bg-base-200 rounded-lg">
                    <div class="w-6 h-6 bg-primary rounded-full flex items-center justify-center text-white text-sm font-bold">1</div>
                    <div><strong>Analyze your existing Ecto schema</strong> for Product and the expanded schemas (Category, Supplier, Tags)</div>
                  </div>
                  <div class="flex items-start gap-3 p-3 bg-base-200 rounded-lg">
                    <div class="w-6 h-6 bg-primary rounded-full flex items-center justify-center text-white text-sm font-bold">2</div>
                    <div><strong>Generate optimized domain configurations</strong> with smart join modes for Category (star) and Tags (tag)</div>
                  </div>
                  <div class="flex items-start gap-3 p-3 bg-base-200 rounded-lg">
                    <div class="w-6 h-6 bg-primary rounded-full flex items-center justify-center text-white text-sm font-bold">3</div>
                    <div><strong>Create LiveView modules</strong> for interactive data exploration (with <code>--live</code>)</div>
                  </div>
                  <div class="flex items-start gap-3 p-3 bg-base-200 rounded-lg">
                    <div class="w-6 h-6 bg-primary rounded-full flex items-center justify-center text-white text-sm font-bold">4</div>
                    <div><strong>Generate saved views infrastructure</strong> for persisting user-defined views (with <code>--saved-views</code>)</div>
                  </div>
                  <div class="flex items-start gap-3 p-3 bg-base-200 rounded-lg">
                    <div class="w-6 h-6 bg-primary rounded-full flex items-center justify-center text-white text-sm font-bold">5</div>
                    <div><strong>Integrate SelectoComponents assets</strong> (Chart.js, Alpine.js, hooks, and styles)</div>
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                  </svg>
                  Understanding Join Modes
                </h3>
                <p class="text-base-content/70 mb-3">The special join mode flags generate optimized configurations that improve query performance and user experience:</p>

                <div class="grid gap-4 mb-4">
                  <div class="border border-primary/30 bg-primary/5 rounded-lg p-4">
                    <div class="font-semibold text-primary mb-2 flex items-center gap-2">
                      <span class="badge badge-primary badge-sm">üì¶ Expand Schemas</span>
                      <code class="text-xs">--expand-schemas supplier,category,order_details</code>
                    </div>
                    <p class="text-sm text-base-content/70 mb-2">Fully expand associated schemas with all their columns and associations:</p>
                    <ul class="list-disc ml-6 text-sm text-base-content/70 space-y-1">
                      <li><strong>Use for:</strong> Any association you want to select/filter by multiple columns</li>
                      <li>Expands all fields from the associated schema into the domain configuration</li>
                      <li>Enables selecting columns like <code>supplier.company_name</code>, <code>supplier.city</code>, etc.</li>
                      <li>Can be combined with star/tag modes for ID-based filtering</li>
                    </ul>
                  </div>

                  <div class="border border-success/30 bg-success/5 rounded-lg p-4">
                    <div class="font-semibold text-success mb-2 flex items-center gap-2">
                      <span class="badge badge-success badge-sm">‚≠ê Star Mode</span>
                      <code class="text-xs">--expand-star category:category_name</code>
                    </div>
                    <p class="text-sm text-base-content/70 mb-2">For lookup tables where you want to display a name but filter by ID:</p>
                    <ul class="list-disc ml-6 text-sm text-base-content/70 space-y-1">
                      <li><strong>Best for:</strong> Categories (8), Suppliers (29), Customers (91), Status codes</li>
                      <li>Displays "category_name" to users (e.g., "Beverages", "Condiments")</li>
                      <li>Filters using category ID (indexed integer column)</li>
                      <li>Prevents query denormalization when grouping by ID</li>
                      <li>Named "star" from data warehouse star schema patterns</li>
                    </ul>
                  </div>

                  <div class="border border-info/30 bg-info/5 rounded-lg p-4">
                    <div class="font-semibold text-info mb-2 flex items-center gap-2">
                      <span class="badge badge-info badge-sm">üè∑Ô∏è Tag Mode</span>
                      <code class="text-xs">--expand-tag tags:name</code>
                    </div>
                    <p class="text-sm text-base-content/70 mb-2">For many-to-many relationships (unlimited records):</p>
                    <ul class="list-disc ml-6 text-sm text-base-content/70 space-y-1">
                      <li><strong>Best for:</strong> Tags, Skills, Features, Labels (flexible categorization)</li>
                      <li>Displays tag "name" to users (e.g., "Organic", "Gluten-Free", "Vegan")</li>
                      <li>Filters using tag IDs through junction table (product_tags)</li>
                      <li>Prevents expensive JOIN denormalization in GROUP BY queries</li>
                      <li>Grows organically as users create new tags</li>
                    </ul>
                  </div>
                </div>

                <div class="alert bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/30">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                  </svg>
                  <div>
                    <strong>üí° The Rule of Thumb</strong>
                    <p class="text-sm mt-1"><strong>expand-schemas:</strong> Need multiple columns ‚Ä¢ <strong>Star:</strong> Display name, filter by ID ‚Ä¢ <strong>Tag:</strong> Many-to-many relationships</p>
                    <p class="text-sm mt-2">Note: Association names must be lowercase to match the Ecto schema (e.g., <code>category</code> not <code>Category</code>).</p>
                  </div>
                </div>
              </div>

              <!-- Continue with the remaining content... -->
              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                  </svg>
                  Configure SavedView Support
                </h3>
                <p class="text-base-content/70 mb-4">There are two parts to enabling saved views. <strong>You MUST complete both steps:</strong></p>

                <div class="space-y-6">
                  <div>
                    <h4 class="font-semibold mb-3 text-base-content flex items-center gap-2">
                      <span class="w-6 h-6 bg-primary text-primary-content rounded-full flex items-center justify-center text-sm font-bold">1</span>
                      Add SavedView Support to Domain
                    </h4>
                    <p class="text-base-content/70 mb-3">Edit the generated domain module to use the SavedViewContext.</p>

                    <div class="alert alert-warning mb-3">
                      <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"></path>
                      </svg>
                      <div>
                        <strong>ü§ñ AI Agents:</strong> Open and edit the file: <code class="bg-base-300 px-2 py-1 rounded text-xs">lib/selecto_northwind/selecto_domains/product_domain.ex</code>
                      </div>
                    </div>

                    <p class="text-base-content/70 mb-2"><strong>Find this line near the top of the file:</strong></p>
                    <div class="relative">
                      <pre class="mb-3"><code class="language-elixir">defmodule SelectoNorthwind.SelectoDomains.ProductDomain do</code></pre>
                    </div>

                    <p class="text-base-content/70 mb-2"><strong>Add this line immediately after the defmodule line:</strong></p>
                    <div class="relative">
                      <pre><code class="language-elixir">defmodule SelectoNorthwind.SelectoDomains.ProductDomain do
  use SelectoNorthwind.SavedViewContext  # ‚Üê ADD THIS LINE

  # ... rest of the domain configuration
end</code></pre>
                    </div>
                  </div>

                  <div>
                    <h4 class="font-semibold mb-3 text-base-content flex items-center gap-2">
                      <span class="w-6 h-6 bg-primary text-primary-content rounded-full flex items-center justify-center text-sm font-bold">2</span>
                      Verify LiveView saved_view_context
                    </h4>
                    <p class="text-base-content/70 mb-3">The generated LiveView (created with <code class="bg-base-300 px-2 py-1 rounded text-sm">--saved-views</code> flag) should already have the saved view context configured. Verify this in <code class="bg-base-300 px-2 py-1 rounded text-sm">lib/selecto_northwind_web/live/product_live.ex</code>:</p>

                    <div class="alert alert-success mb-3">
                      <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                      </svg>
                      <div>
                        <strong>ü§ñ AI Agents:</strong> You typically do NOT need to modify this file - it should already be correctly configured. Only verify the content matches below.
                      </div>
                    </div>

                    <div class="relative">
                      <pre><code class="language-elixir"># In lib/selecto_northwind_web/live/product_live.ex
def mount(_params, _session, socket) do
  # ... other setup code ...

  socket =
    assign(socket,
      # ... other assigns ...
      saved_view_module: SelectoNorthwind.SelectoDomains.ProductDomain,
      saved_view_context: "/products_selecto",  # Identifies this set of saved views
      available_saved_views: saved_views
    )

  <%= "{" %>:ok, socket<%= "}" %>
end</code></pre>
                    </div>
                    <div class="alert alert-info mt-3">
                      <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                      </svg>
                      <div>
                        The <code>saved_view_context</code> assign is crucial - it identifies which saved views belong to this LiveView. Typically set to the path or a unique identifier for the domain.
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              
              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4" />
                  </svg>
                  Run the Migration
                </h3>
                <p class="text-base-content/70 mb-3">After generation, run the migration to create the saved_views table:</p>
                <div class="relative">
                  <pre><code class="language-bash">$ mix ecto.migrate</code></pre>
                </div>
              </div>
              
              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-7-7 7-7m5 14l7-7-7-7" />
                  </svg>
                  Add Route to Router
                </h3>

                <div class="alert alert-warning mb-3">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"></path>
                  </svg>
                  <div>
                    <strong>ü§ñ AI Agents - Required Action:</strong>
                    <ol class="list-decimal ml-6 mt-2 space-y-1">
                      <li>Open the file: <code class="bg-base-300 px-2 py-1 rounded text-xs">lib/selecto_northwind_web/router.ex</code></li>
                      <li>Find the existing placeholder route: <code class="bg-base-300 px-2 py-1 rounded text-xs">get "/products_selecto", PageController, :products_selecto</code></li>
                      <li>Replace it with: <code class="bg-base-300 px-2 py-1 rounded text-xs">live "/products_selecto", ProductLive, :index</code></li>
                      <li>Ensure the route is inside the <code class="bg-base-300 px-1 rounded text-xs">scope "/", SelectoNorthwindWeb do</code> block that uses <code class="bg-base-300 px-1 rounded text-xs">pipe_through :browser</code></li>
                    </ol>
                  </div>
                </div>

                <p class="text-base-content/70 mb-3"><strong>Before (old placeholder route):</strong></p>
                <div class="relative">
                  <pre class="mb-3"><code class="language-elixir">scope "/", SelectoNorthwindWeb do
  pipe_through :browser

  # OLD - Remove this line:
  get "/products_selecto", PageController, :products_selecto
end</code></pre>
                </div>

                <p class="text-base-content/70 mb-3"><strong>After (new LiveView route):</strong></p>
                <div class="relative">
                  <pre class="mb-3"><code class="language-elixir">scope "/", SelectoNorthwindWeb do
  pipe_through :browser

  # NEW - Add this line:
  live "/products_selecto", ProductLive, :index
end</code></pre>
                </div>

                <div class="alert alert-info">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    <strong>Important:</strong> The module name is <code>ProductLive</code> (singular) even though the path is "products_selecto" (plural). This matches the LiveView module generated in <code class="bg-base-300 px-1 rounded text-xs">lib/selecto_northwind_web/live/product_live.ex</code>
                  </div>
                </div>
              </div>
              
              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                  </svg>
                  Integrate SelectoComponents Assets
                </h3>
                <p class="text-base-content/70 mb-3">Run the integration task to set up the JavaScript hooks and CSS source paths:</p>
                <div class="relative">
                  <pre class="mb-4"><code class="language-bash">$ mix selecto.components.integrate</code></pre>
                </div>
                <p class="text-base-content/70 mb-3">Then compile the updated assets:</p>
                <div class="relative">
                  <pre><code class="language-bash">$ mix assets.build</code></pre>
                </div>
                <div class="alert alert-error mt-4">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"></path>
                  </svg>
                  <div>
                    <strong>üö® Critical for AI Agents:</strong> You <strong>MUST restart the Phoenix server</strong> after this step! The server needs to restart so Tailwind can properly scan the <code class="bg-base-300 px-1 rounded">vendor/selecto_components</code> directory and include the necessary CSS classes. Without restarting, the SelectoComponents UI will not render correctly.
                  </div>
                </div>
              </div>
              
              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  Verify the Setup
                </h3>

                <div class="alert alert-warning mb-3">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"></path>
                  </svg>
                  <div>
                    <strong>ü§ñ AI Agents - Verification Steps:</strong>
                    <ol class="list-decimal ml-6 mt-2 space-y-1">
                      <li>Start the Phoenix server with: <code class="bg-base-300 px-2 py-1 rounded text-xs">mix phx.server</code></li>
                      <li>Wait for the message "Access SelectoNorthwindWeb.Endpoint at http://localhost:4000"</li>
                      <li>Check for compilation errors - if any occur, STOP and fix them before proceeding</li>
                      <li>Navigate to: <code class="bg-base-300 px-2 py-1 rounded text-xs">http://localhost:4000/products_selecto</code></li>
                      <li>Verify the page loads without errors (check browser console and terminal for errors)</li>
                    </ol>
                  </div>
                </div>

                <p class="text-base-content/70 mb-3"><strong>Start the server:</strong></p>
                <div class="relative">
                  <pre class="mb-4"><code class="language-bash">$ mix phx.server</code></pre>
                </div>

                <p class="text-base-content/70 mb-3"><strong>Then visit:</strong> <a href="http://localhost:4000/products_selecto" class="link link-primary">http://localhost:4000/products_selecto</a></p>

                <div class="alert alert-success mb-4">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    <div class="font-semibold">‚úÖ Success Criteria - You should see ALL of the following:</div>
                    <ul class="mt-2 space-y-1 text-sm">
                      <li>‚úì Page title: "Products Explorer" or similar</li>
                      <li>‚úì A query builder form with filter options</li>
                      <li>‚úì Data results displayed in table format showing product data</li>
                      <li>‚úì View mode tabs: "Table", "Detail", and "Graph"</li>
                      <li>‚úì "Save View" and "Load View" buttons for saved views functionality</li>
                      <li>‚úì Filter options for Category, Supplier, and Tags</li>
                      <li>‚úì No error messages in browser console or terminal</li>
                    </ul>
                  </div>
                </div>

                <div class="alert alert-error">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"></path>
                  </svg>
                  <div>
                    <div class="font-semibold">‚ùå Common Issues - If you see errors:</div>
                    <ul class="mt-2 space-y-2 text-sm">
                      <li><strong>404 Not Found:</strong> Check that you added the route to <code class="bg-base-300 px-1 rounded text-xs">router.ex</code> correctly</li>
                      <li><strong>Compilation errors:</strong> Run <code class="bg-base-300 px-1 rounded text-xs">mix compile</code> to see detailed error messages</li>
                      <li><strong>Missing CSS styles:</strong> Restart the server (the Tailwind scanner needs to detect new files)</li>
                      <li><strong>Module not found:</strong> Verify the LiveView file was generated at <code class="bg-base-300 px-1 rounded text-xs">lib/selecto_northwind_web/live/product_live.ex</code></li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="collapse collapse-arrow bg-base-200">
                <input type="checkbox" />
                <div class="collapse-title font-medium">
                  Click to see detailed file generation information
                </div>
                <div class="collapse-content">
                  <div class="space-y-4 text-sm">
                    <div>
                      <h4 class="font-semibold mb-2">Selecto Domain Configuration</h4>
                      <pre class="text-xs"><code class="language-bash">lib/selecto_northwind/selecto_domains/
  ‚îî‚îÄ‚îÄ products_domain.ex  # Domain configuration with Product and related schemas</code></pre>
                      <p class="text-base-content/70 mt-2">This file contains configurations for the Product schema and expanded schemas (Category, Supplier) defining: column definitions, association mappings, default display settings, and query configurations.</p>
                    </div>
                    
                    <div>
                      <h4 class="font-semibold mb-2">LiveView Files (with --live flag)</h4>
                      <pre class="text-xs"><code class="language-bash">lib/selecto_northwind_web/live/
  ‚îú‚îÄ‚îÄ products_live.ex        # Main LiveView module
  ‚îî‚îÄ‚îÄ products_live.html.heex  # LiveView template</code></pre>
                    </div>
                    
                    <div>
                      <h4 class="font-semibold mb-2">Saved Views Infrastructure (with --saved-views flag)</h4>
                      <pre class="text-xs"><code class="language-bash">lib/selecto_northwind/
  ‚îú‚îÄ‚îÄ saved_view.ex           # Ecto schema for saved views
  ‚îî‚îÄ‚îÄ saved_view_context.ex   # Context module for saved view operations

priv/repo/migrations/
  ‚îî‚îÄ‚îÄ [timestamp]_create_saved_views.exs  # Database migration</code></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Step 2b: Customize with Config Overlays -->
        <div id="step-2b" class="card bg-base-100 shadow-xl scroll-mt-6">
          <div class="card-body">
            <div class="flex items-center gap-4 mb-4">
              <div class="w-12 h-12 bg-gradient-to-br from-purple-600 to-purple-700 rounded-xl flex items-center justify-center text-white font-bold text-lg">2b</div>
              <div>
                <h2 class="card-title text-2xl">Customize Domain with Config Overlays</h2>
                <p class="text-base-content/70">Non-destructive customization without modifying generated files</p>
              </div>
            </div>

            <div class="alert alert-info mb-6">
              <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <div>
                <strong>üé® Config Overlay System:</strong> When you generated the Products domain in Step 2, Selecto automatically created an overlay file at <code class="bg-base-200 px-2 py-1 rounded">lib/selecto_northwind/selecto_domains/overlays/product_domain_overlay.ex</code>. This file lets you customize the domain without modifying the generated domain file itself.
              </div>
            </div>

            <p class="text-base-content/80 mb-6">The overlay system allows you to customize columns, add filters, and configure redactions using a clean DSL. Your customizations are preserved even if you regenerate the domain!</p>

            <div class="space-y-6">
              <!-- Understanding Overlays -->
              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01" />
                  </svg>
                  Understanding Config Overlays
                </h3>

                <div class="bg-base-200 p-4 rounded-lg mb-4">
                  <h4 class="font-semibold mb-2">Why Use Overlays?</h4>
                  <ul class="list-disc list-inside space-y-2 text-sm">
                    <li><strong>Non-Destructive:</strong> Customize without modifying generated files</li>
                    <li><strong>Regeneration Safe:</strong> Re-run generators without losing customizations</li>
                    <li><strong>Clean Syntax:</strong> DSL is more readable than raw map manipulation</li>
                    <li><strong>Type Safety:</strong> Compile-time macro processing catches errors</li>
                    <li><strong>Multi-Tenant Ready:</strong> Runtime overlay merging for dynamic configs</li>
                  </ul>
                </div>

                <div class="bg-base-200 p-4 rounded-lg">
                  <h4 class="font-semibold mb-2">File Structure</h4>
                  <pre class="text-xs"><code class="language-bash">lib/selecto_northwind/selecto_domains/
‚îú‚îÄ‚îÄ product_domain.ex                    # Generated domain (don't edit!)
‚îî‚îÄ‚îÄ overlays/
    ‚îî‚îÄ‚îÄ product_domain_overlay.ex        # Your customizations (safe to edit)</code></pre>
                </div>
              </div>

              <!-- Example Overlay -->
              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                  </svg>
                  Example: Customize Product Display
                </h3>

                <p class="text-base-content/70 mb-3">
                  Let's customize how product prices and stock levels are displayed. Open the generated overlay file and add customizations. Custom
                  filters that are not tied to a column need an <code>apply</code> function so they can be converted into real query filters.
                </p>

                <div class="alert alert-warning mb-3">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"></path>
                  </svg>
                  <div>
                    <strong>Note:</strong> The overlay file was auto-generated with example customizations. Feel free to uncomment and modify them!
                  </div>
                </div>

                <pre><code class="language-elixir"># lib/selecto_northwind/selecto_domains/overlays/product_domain_overlay.ex
defmodule SelectoNorthwind.SelectoDomains.Overlays.ProductDomainOverlay do
  use Selecto.Config.OverlayDSL

  # Redact sensitive fields from queries
  @redactions [:cost_price, :internal_notes]

  # Customize price column display
  defcolumn :unit_price do
    label "Product Price"
    format :currency
    precision 2
    aggregate_functions [:sum, :avg, :min, :max]
    sortable true
    filterable true
  end

  # Customize stock display
  defcolumn :units_in_stock do
    label "Stock Level"
    aggregate_functions [:sum, :avg, :min, :max]
    sortable true
  end

  # Customize discontinued flag
  defcolumn :discontinued do
    label "Status"
    format :yes_no
    filterable true
  end

  # Add custom filter for low stock
  deffilter "low_stock" do
    name "Low Stock Alert"
    type :boolean
    description "Show products with stock below a threshold"
    default false
    apply &__MODULE__.low_stock_filter/2
  end

  # Add custom filter for price range
  deffilter "price_range" do
    name "Price Range"
    type :string
    description "Filter by price range (e.g., '10-100')"
    apply &__MODULE__.price_range_filter/2
  end

  defp low_stock_filter(_selecto, %<%= "{" %>"value" => "true"<%= "}" %>), do: <%= "{" %>"units_in_stock", <%= "{" %>:&lt;, 10<%= "}" %><%= "}" %>
  defp low_stock_filter(_selecto, _), do: <%= "{" %>:and, []<%= "}" %>

  defp price_range_filter(_selecto, %<%= "{" %>"value" => value<%= "}" %>) when is_binary(value) do
    case String.split(value, "-", parts: 2) do
      [min, max] ->
        case <%= "{" %>Float.parse(String.trim(min)), Float.parse(String.trim(max))<%= "}" %> do
          <%= "{" %><%= "{" %>min_val, _<%= "}" %>, <%= "{" %>max_val, _<%= "}" %><%= "}" %> -> <%= "{" %>"unit_price", <%= "{" %>:between, min_val, max_val<%= "}" %><%= "}" %>
          _ -> <%= "{" %>:and, []<%= "}" %>
        end

      _ ->
        <%= "{" %>:and, []<%= "}" %>
    end
  end

  defp price_range_filter(_selecto, _), do: <%= "{" %>:and, []<%= "}" %>
end</code></pre>
              </div>

              <!-- JSONB Schema Configuration -->
              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4" />
                  </svg>
                  Configure JSONB Schema for Attributes
                </h3>

                <p class="text-base-content/70 mb-3">The Products table has a JSONB <code>attributes</code> column for storing flexible product metadata. Define its schema in the overlay to enable type-safe filtering and display:</p>

                <div class="alert alert-info mb-3">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    <strong>ü§ñ AI Agents - Required Action:</strong> Add the following JSONB schema definition to your overlay file at <code class="bg-base-300 px-2 py-1 rounded text-xs">lib/selecto_northwind/selecto_domains/overlays/product_domain_overlay.ex</code>
                  </div>
                </div>

                <pre><code class="language-elixir"># Add to lib/selecto_northwind/selecto_domains/overlays/product_domain_overlay.ex
# Place this inside the module, after the deffilter blocks

# ============================================================================
# JSONB Schema Definitions
# ============================================================================
#
# Define the structure of your JSONB columns to enable:
# - Type-safe filtering with dot notation (e.g., attributes.color = "red")
# - Validation on inserts/updates
# - GraphQL type generation

defjsonb_schema :attributes do
  %<%= "{" %>
    # Product color
    "color" =&gt; %<%= "{" %>type: :string<%= "}" %>,

    # Size options
    "size" =&gt; %<%= "{" %>type: :string, enum: ["small", "medium", "large", "xl"]<%= "}" %>,

    # Weight in kg
    "weight" =&gt; %<%= "{" %>type: :decimal, min: 0<%= "}" %>,

    # Material type
    "material" =&gt; %<%= "{" %>type: :string<%= "}" %>,

    # Whether the product is organic
    "organic" =&gt; %<%= "{" %>type: :boolean, default: false<%= "}" %>,

    # Dimensions nested object
    "dimensions" =&gt; %<%= "{" %>
      type: :object,
      schema: %<%= "{" %>
        "length" =&gt; %<%= "{" %>type: :decimal<%= "}" %>,
        "width" =&gt; %<%= "{" %>type: :decimal<%= "}" %>,
        "height" =&gt; %<%= "{" %>type: :decimal<%= "}" %>,
        "unit" =&gt; %<%= "{" %>type: :string, enum: ["cm", "in", "mm"], default: "cm"<%= "}" %>
      <%= "}" %>
    <%= "}" %>,

    # Tags for categorization
    "tags" =&gt; %<%= "{" %>
      type: :array,
      items: %<%= "{" %>type: :string<%= "}" %>
    <%= "}" %>
  <%= "}" %>
end</code></pre>

                <div class="alert alert-success mt-4">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    <strong>‚ú® JSONB Schema Benefits:</strong>
                    <ul class="list-disc ml-6 mt-2 space-y-1 text-sm">
                      <li><strong>Type-safe filtering:</strong> Filter by <code>attributes.color = "red"</code> or <code>attributes.weight > 10</code></li>
                      <li><strong>Enum validation:</strong> Size can only be "small", "medium", "large", or "xl"</li>
                      <li><strong>Nested objects:</strong> Access <code>attributes.dimensions.length</code></li>
                      <li><strong>Array support:</strong> Filter products by tags within the JSONB</li>
                    </ul>
                  </div>
                </div>

                <div class="grid md:grid-cols-2 gap-4 mt-4">
                  <div class="bg-base-200 p-4 rounded-lg">
                    <h4 class="font-semibold mb-2 text-sm">Supported Types</h4>
                    <ul class="text-xs space-y-1">
                      <li><code>:string</code> - Text values</li>
                      <li><code>:integer</code> - Whole numbers</li>
                      <li><code>:decimal</code> / <code>:float</code> - Decimal numbers</li>
                      <li><code>:boolean</code> - True/false values</li>
                      <li><code>:date</code> - Date values</li>
                      <li><code>:datetime</code> - Date and time values</li>
                      <li><code>:object</code> - Nested objects (use <code>schema</code> key)</li>
                      <li><code>:array</code> - Arrays (use <code>items</code> key)</li>
                    </ul>
                  </div>

                  <div class="bg-base-200 p-4 rounded-lg">
                    <h4 class="font-semibold mb-2 text-sm">Validation Options</h4>
                    <ul class="text-xs space-y-1">
                      <li><code>:required</code> - Field must be present</li>
                      <li><code>:enum</code> - List of allowed values</li>
                      <li><code>:min</code> / <code>:max</code> - Numeric bounds</li>
                      <li><code>:min_length</code> / <code>:max_length</code> - String length</li>
                      <li><code>:pattern</code> - Regex pattern for strings</li>
                      <li><code>:default</code> - Default value if not provided</li>
                    </ul>
                  </div>
                </div>
              </div>

              <!-- Available Directives -->
              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                  </svg>
                  Available DSL Directives
                </h3>

                <div class="grid md:grid-cols-2 gap-4">
                  <div class="bg-base-200 p-4 rounded-lg">
                    <h4 class="font-semibold mb-2 text-sm">Column Directives (within <code>defcolumn</code>)</h4>
                    <ul class="text-xs space-y-1">
                      <li><code>label/1</code> - Human-readable label</li>
                      <li><code>format/1</code> - Display format (<code>:currency</code>, <code>:percentage</code>, <code>:yes_no</code>, <code>:date</code>)</li>
                      <li><code>aggregate_functions/1</code> - Allowed aggregations (<code>[:sum, :avg, :count, :min, :max]</code>)</li>
                      <li><code>precision/1</code> - Numeric precision for decimals</li>
                      <li><code>max_length/1</code> - Max string length for display</li>
                      <li><code>sortable/1</code> - Enable/disable sorting</li>
                      <li><code>filterable/1</code> - Enable/disable filtering</li>
                      <li><code>computed/1</code> - Mark as computed field</li>
                    </ul>
                  </div>

                  <div class="bg-base-200 p-4 rounded-lg">
                    <h4 class="font-semibold mb-2 text-sm">Filter Directives (within <code>deffilter</code>)</h4>
                    <ul class="text-xs space-y-1">
                      <li><code>name/1</code> - Human-readable filter name</li>
                      <li><code>type/1</code> - Filter type (<code>:string</code>, <code>:integer</code>, <code>:boolean</code>, <code>:date</code>)</li>
                      <li><code>description/1</code> - Help text for the filter</li>
                      <li><code>required/1</code> - Whether filter is required</li>
                      <li><code>default/1</code> - Default value</li>
                      <li><code>options/1</code> - Valid options for select filters</li>
                    </ul>
                  </div>
                </div>

                <div class="grid md:grid-cols-2 gap-4 mt-4">
                  <div class="bg-base-200 p-4 rounded-lg">
                    <h4 class="font-semibold mb-2 text-sm">Module Attributes</h4>
                    <ul class="text-xs space-y-1">
                      <li><code>@redactions</code> - List of field atoms to redact from queries (security/privacy)</li>
                    </ul>
                  </div>

                  <div class="bg-base-200 p-4 rounded-lg">
                    <h4 class="font-semibold mb-2 text-sm">JSONB Schema (via <code>defjsonb_schema</code>)</h4>
                    <ul class="text-xs space-y-1">
                      <li><code>defjsonb_schema :column_name</code> - Define schema for JSONB column</li>
                      <li>Supports nested objects with <code>type: :object, schema: %<%= "{" %>...<%= "}" %></code></li>
                      <li>Supports arrays with <code>type: :array, items: %<%= "{" %>...<%= "}" %></code></li>
                      <li>Validation: <code>:enum</code>, <code>:min</code>, <code>:max</code>, <code>:required</code>, <code>:default</code></li>
                    </ul>
                  </div>
                </div>
              </div>

              <!-- How Overlays Work -->
              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                  </svg>
                  How Overlay Merging Works
                </h3>

                <div class="space-y-3">
                  <div class="bg-base-200 p-4 rounded-lg">
                    <h4 class="font-semibold mb-2 text-sm">‚ú® Deep Merge for Columns</h4>
                    <p class="text-xs text-base-content/70">Column properties from the overlay are merged with base domain columns. Overlay properties take precedence, but unspecified properties keep their base values.</p>
                  </div>

                  <div class="bg-base-200 p-4 rounded-lg">
                    <h4 class="font-semibold mb-2 text-sm">‚ûï Additive Merge for Filters</h4>
                    <p class="text-xs text-base-content/70">Both base filters and overlay filters are available. This allows you to add custom filters without losing generated ones.</p>
                  </div>

                  <div class="bg-base-200 p-4 rounded-lg">
                    <h4 class="font-semibold mb-2 text-sm">üîí Union Merge for Redactions</h4>
                    <p class="text-xs text-base-content/70">Redacted fields from both base and overlay are combined (no duplicates). This ensures maximum security.</p>
                  </div>
                </div>
              </div>

              <!-- Testing Your Overlay -->
              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  Test Your Customizations
                </h3>

                <p class="text-base-content/70 mb-3">After making changes to your overlay file, restart the Phoenix server to see the changes:</p>

                <pre><code class="language-bash"># Restart the server
mix phx.server

# Visit your Products page
open http://localhost:4000/products_selecto</code></pre>

                <div class="alert alert-success mt-4">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    <strong>‚ú® Pro Tip:</strong> You can regenerate the domain file anytime with <code>mix selecto.gen.domain</code> and your overlay customizations will be preserved!
                  </div>
                </div>
              </div>

              <!-- Advanced: Runtime Overlays -->
              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                  </svg>
                  Advanced: Runtime Overlay Merging
                </h3>

                <p class="text-base-content/70 mb-3">For multi-tenant scenarios or feature flags, you can merge overlays at runtime:</p>

                <pre><code class="language-elixir"># In your LiveView or context
def get_domain_for_tenant(tenant) do
  base_domain = ProductDomain.domain()

  # Load tenant-specific overlay
  tenant_overlay = get_tenant_overlay(tenant)

  # Merge at runtime
  Selecto.Config.Overlay.merge(base_domain, tenant_overlay)
end</code></pre>

                <p class="text-xs text-base-content/60 mt-3">This allows different tenants to have different column labels, filters, or redactions without code duplication.</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Step 3: Generate Customers Domain -->
        <div id="step-3" class="card bg-base-100 shadow-xl scroll-mt-6">
          <div class="card-body">
            <div class="flex items-center gap-4 mb-4">
              <div class="w-12 h-12 bg-gradient-to-br from-secondary to-secondary-focus rounded-xl flex items-center justify-center text-white font-bold text-lg">3</div>
              <div>
                <h2 class="card-title text-2xl">Generate Customers Domain with Selecto</h2>
                <p class="text-base-content/70">Add customer management capabilities</p>
              </div>
            </div>
            <p class="text-base-content/80 mb-6">Now let's generate a Selecto domain for the Customer schema and its related schemas. This demonstrates how to integrate multiple business domains into your Selecto-powered application.</p>

            <div class="alert alert-info mb-6">
              <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <div>
                <strong>üí° For AI Agents:</strong> This step follows the same pattern as Step 2 but for the Customers domain. Pay attention to server restarts after asset builds.
              </div>
            </div>

            <div class="space-y-6">
              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                  </svg>
                  Generate the Customers Domain
                </h3>

                <div class="alert alert-warning mb-3">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"></path>
                  </svg>
                  <div>
                    <strong>ü§ñ AI Agent Instructions:</strong>
                    <p class="mt-2">This command requires interactive responses. You MUST respond to two prompts with "Y":</p>
                    <ul class="list-disc ml-6 mt-2 text-xs">
                      <li>Prompt 1: "Do you want to proceed?" ‚Üí Answer: <code>Y</code></li>
                      <li>Prompt 2: "Integrate SelectoComponents?" ‚Üí Answer: <code>Y</code></li>
                    </ul>
                    <p class="mt-2 text-xs"><strong>Automated execution:</strong> Use: <code class="bg-yellow-100 dark:bg-yellow-900 text-yellow-900 dark:text-yellow-100 px-2 py-1 rounded">echo -e "Y\nY" | mix selecto.gen.domain ...</code></p>
                  </div>
                </div>

                <p class="text-base-content/70 mb-3">Run the following Mix task to generate the Customers domain with expanded schemas for related entities:</p>
                <div class="relative">
                  <pre class="mb-4"><code class="language-bash">$ mix selecto.gen.domain SelectoNorthwind.Sales.Customer \
  --expand-schemas SelectoNorthwind.Sales.Order SelectoNorthwind.Sales.CustomerDemographic \
  --live --saved-views --path customers_selecto</code></pre>
                </div>

                <div class="alert alert-info">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    <strong>Note:</strong> The saved views infrastructure was already created in Step 2, so this command only generates the Customer-specific domain and LiveView.
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  What Gets Generated
                </h3>
                <div class="grid gap-3">
                  <div class="flex items-start gap-3 p-3 bg-base-200 rounded-lg">
                    <div class="w-2 h-2 bg-secondary rounded-full mt-2"></div>
                    <div><strong>Customer Domain Configuration:</strong> Maps Customer schema with Orders and CustomerDemographic relationships</div>
                  </div>
                  <div class="flex items-start gap-3 p-3 bg-base-200 rounded-lg">
                    <div class="w-2 h-2 bg-secondary rounded-full mt-2"></div>
                    <div><strong>CustomerLive Module:</strong> LiveView for interactive customer data exploration</div>
                  </div>
                  <div class="flex items-start gap-3 p-3 bg-base-200 rounded-lg">
                    <div class="w-2 h-2 bg-secondary rounded-full mt-2"></div>
                    <div><strong>Saved Views Support:</strong> Persistence layer for customer-specific saved views</div>
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                  </svg>
                  Configure the Generated Files
                </h3>

                <div class="alert alert-warning mb-3">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"></path>
                  </svg>
                  <div>
                    <strong>ü§ñ AI Agents:</strong> You MUST complete step 1 below. Step 2 is for verification only.
                  </div>
                </div>

                <div class="space-y-4">
                  <div>
                    <h4 class="font-semibold mb-2">1. Add SavedView Support to Domain (REQUIRED)</h4>
                    <p class="text-base-content/70 mb-3">Edit <code class="bg-base-300 px-2 py-1 rounded text-sm">lib/selecto_northwind/selecto_domains/customers_domain.ex</code> and add the use statement:</p>
                    <div class="relative">
                      <pre><code class="language-elixir">defmodule SelectoNorthwind.SelectoDomains.CustomersDomain do
  use SelectoNorthwind.SavedViewContext  # ‚Üê ADD THIS LINE

  # ... rest of the domain configuration
end</code></pre>
                    </div>
                  </div>

                  <div>
                    <h4 class="font-semibold mb-2">2. Verify LiveView Configuration (Auto-generated)</h4>
                    <p class="text-base-content/70 mb-3">The generated LiveView should already be correctly configured in <code class="bg-base-300 px-2 py-1 rounded text-sm">lib/selecto_northwind_web/live/customer_live.ex</code>. Verify it contains:</p>
                    <div class="relative">
                      <pre><code class="language-elixir"># Should already be configured like this:
socket =
  assign(socket,
    saved_view_module: SelectoNorthwind.SelectoDomains.CustomersDomain,
    saved_view_context: "/customers_selecto",
    available_saved_views: saved_views
  )</code></pre>
                    </div>
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-7-7 7-7m5 14l7-7-7-7" />
                  </svg>
                  Add Route to Router
                </h3>
                <p class="text-base-content/70 mb-3">Add the Customers LiveView route to your <code class="bg-base-300 px-2 py-1 rounded text-sm">lib/selecto_northwind_web/router.ex</code>:</p>
                <div class="relative">
                  <pre class="mb-3"><code class="language-elixir">scope "/", SelectoNorthwindWeb do
  pipe_through :browser

  # ... existing routes ...
  live "/products_selecto", ProductLive, :index

  # Add this new route:
  live "/customers_selecto", CustomerLive, :index
end</code></pre>
                </div>
                <div class="alert alert-info">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    <strong>Note:</strong> The module name is <code>CustomerLive</code> (singular) even though the path uses "customers" (plural).
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                  </svg>
                  Build Assets
                </h3>
                <p class="text-base-content/70 mb-3">Compile the updated assets:</p>
                <div class="relative">
                  <pre><code class="language-bash">$ mix assets.build</code></pre>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  Test the Customers Interface
                </h3>
                <p class="text-base-content/70 mb-3">Start your Phoenix server and navigate to the new Customers interface:</p>
                <div class="relative">
                  <pre class="mb-4"><code class="language-bash">$ mix phx.server
# Visit http://localhost:4000/customers_selecto</code></pre>
                </div>
                <div class="alert alert-success">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    <div class="font-semibold">The Customers Explorer should now include:</div>
                    <ul class="mt-2 space-y-1 text-sm">
                      <li>‚Ä¢ Customer data with company names and contact information</li>
                      <li>‚Ä¢ Ability to explore related Orders data</li>
                      <li>‚Ä¢ Customer demographics relationships</li>
                      <li>‚Ä¢ Full query builder and saved views functionality</li>
                    </ul>
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  Try These Customer Queries
                </h3>
                <p class="text-base-content/70 mb-3">Once your Customers interface is running, try these example queries to explore the data:</p>
                <div class="grid gap-3">
                  <div class="p-3 bg-base-200 rounded-lg">
                    <div class="font-semibold text-sm mb-1">Find customers from specific countries:</div>
                    <div class="text-xs text-base-content/60">Add filter: Country equals "USA" or "Germany"</div>
                  </div>
                  <div class="p-3 bg-base-200 rounded-lg">
                    <div class="font-semibold text-sm mb-1">Customers with recent orders:</div>
                    <div class="text-xs text-base-content/60">Include Orders in the query, then filter by order date</div>
                  </div>
                  <div class="p-3 bg-base-200 rounded-lg">
                    <div class="font-semibold text-sm mb-1">Top customers by order count:</div>
                    <div class="text-xs text-base-content/60">Group by Customer, aggregate Orders count, sort descending</div>
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                  </svg>
                  Next Steps
                </h3>
                <p class="text-base-content/70">You now have two independent Selecto domains (Products and Customers) running in your application. Each domain:</p>
                <ul class="list-disc list-inside text-sm text-base-content/70 ml-4 space-y-1 mt-2">
                  <li>Has its own query builder and data explorer</li>
                  <li>Maintains separate saved views</li>
                  <li>Can explore related data through associations</li>
                  <li>Provides table, detail, and graph visualization options</li>
                </ul>
                <p class="text-base-content/70 mt-3">Continue exploring by creating saved views, building complex queries, or proceed to generate additional domains for Orders, Employees, or other entities in the Northwind database.</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Step 4: Generate Orders Domain -->
        <div id="step-4" class="card bg-base-100 shadow-xl scroll-mt-6">
          <div class="card-body">
            <div class="flex items-center gap-4 mb-4">
              <div class="w-12 h-12 bg-gradient-to-br from-warning to-warning-focus rounded-xl flex items-center justify-center text-white font-bold text-lg">4</div>
              <div>
                <h2 class="card-title text-2xl">Generate Orders Domain with Complex Relationships</h2>
                <p class="text-base-content/70">Connect sales data across multiple entities</p>
              </div>
            </div>
            <p class="text-base-content/80 mb-6">The Orders domain is the heart of the sales system, connecting customers, products, employees, and shipping. This step demonstrates working with complex multi-table relationships in Selecto.</p>

            <div class="alert alert-info mb-6">
              <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <div>
                <strong>üí° For AI Agents:</strong> This command includes more expanded schemas than previous steps, demonstrating how Selecto handles complex business relationships.
              </div>
            </div>

            <div class="space-y-6">
              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
                  </svg>
                  Generate the Orders Domain
                </h3>

                <div class="alert alert-warning mb-3">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"></path>
                  </svg>
                  <div>
                    <strong>ü§ñ AI Agent Instructions:</strong>
                    <p class="mt-2">This command requires interactive responses. You MUST respond to two prompts with "Y":</p>
                    <ul class="list-disc ml-6 mt-2 text-xs">
                      <li>Prompt 1: "Do you want to proceed?" ‚Üí Answer: <code>Y</code></li>
                      <li>Prompt 2: "Integrate SelectoComponents?" ‚Üí Answer: <code>Y</code></li>
                    </ul>
                    <p class="mt-2 text-xs"><strong>Automated execution:</strong> Use: <code class="bg-yellow-100 dark:bg-yellow-900 text-yellow-900 dark:text-yellow-100 px-2 py-1 rounded">echo -e "Y\nY" | mix selecto.gen.domain ...</code></p>
                  </div>
                </div>

                <p class="text-base-content/70 mb-3">Run the following Mix task to generate the Orders domain with its extensive relationships (OrderDetail, Shipper, Employee, Customer):</p>
                <div class="relative">
                  <pre class="mb-4"><code class="language-bash">$ mix selecto.gen.domain SelectoNorthwind.Sales.Order \
  --expand-schemas SelectoNorthwind.Sales.OrderDetail \
    SelectoNorthwind.Sales.Shipper \
    SelectoNorthwind.Hr.Employee \
    SelectoNorthwind.Sales.Customer \
  --live --saved-views --path orders_selecto</code></pre>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  Understanding the Orders Relationships
                </h3>
                <div class="grid gap-3">
                  <div class="flex items-start gap-3 p-3 bg-base-200 rounded-lg">
                    <div class="w-2 h-2 bg-warning rounded-full mt-2"></div>
                    <div><strong>Order ‚Üí OrderDetails:</strong> One-to-many relationship showing line items for each order with products, quantities, and prices</div>
                  </div>
                  <div class="flex items-start gap-3 p-3 bg-base-200 rounded-lg">
                    <div class="w-2 h-2 bg-warning rounded-full mt-2"></div>
                    <div><strong>Order ‚Üí Customer:</strong> Many-to-one relationship linking orders to the customer who placed them</div>
                  </div>
                  <div class="flex items-start gap-3 p-3 bg-base-200 rounded-lg">
                    <div class="w-2 h-2 bg-warning rounded-full mt-2"></div>
                    <div><strong>Order ‚Üí Employee:</strong> Many-to-one relationship showing which employee processed the order</div>
                  </div>
                  <div class="flex items-start gap-3 p-3 bg-base-200 rounded-lg">
                    <div class="w-2 h-2 bg-warning rounded-full mt-2"></div>
                    <div><strong>Order ‚Üí Shipper:</strong> Many-to-one relationship indicating the shipping company used</div>
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                  </svg>
                  Configure the Generated Files
                </h3>

                <div class="space-y-4">
                  <div>
                    <h4 class="font-semibold mb-2">1. Add SavedView Support to Domain</h4>
                    <p class="text-base-content/70 mb-3">Add this line to <code class="bg-base-300 px-2 py-1 rounded text-sm">lib/selecto_northwind/selecto_domains/orders_domain.ex</code>:</p>
                    <div class="relative">
                      <pre><code class="language-elixir">defmodule SelectoNorthwind.SelectoDomains.OrdersDomain do
  use SelectoNorthwind.SavedViewContext  # Add this line

  # ... rest of the domain configuration
end</code></pre>
                    </div>
                  </div>

                  <div>
                    <h4 class="font-semibold mb-2">2. Verify LiveView Configuration</h4>
                    <p class="text-base-content/70 mb-3">The generated LiveView should have the saved view context configured in <code class="bg-base-300 px-2 py-1 rounded text-sm">lib/selecto_northwind_web/live/order_live.ex</code>:</p>
                    <div class="relative">
                      <pre><code class="language-elixir"># Should already be configured like this:
socket =
  assign(socket,
    saved_view_module: SelectoNorthwind.SelectoDomains.OrdersDomain,
    saved_view_context: "/orders_selecto",
    available_saved_views: saved_views
  )</code></pre>
                    </div>
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-7-7 7-7m5 14l7-7-7-7" />
                  </svg>
                  Add Route to Router
                </h3>
                <p class="text-base-content/70 mb-3">Add the Orders LiveView route to your <code class="bg-base-300 px-2 py-1 rounded text-sm">lib/selecto_northwind_web/router.ex</code>:</p>
                <div class="relative">
                  <pre class="mb-3"><code class="language-elixir">scope "/", SelectoNorthwindWeb do
  pipe_through :browser

  # ... existing routes ...
  live "/products_selecto", ProductLive, :index
  live "/customers_selecto", CustomerLive, :index

  # Add this new route:
  live "/orders_selecto", OrderLive, :index
end</code></pre>
                </div>
                <div class="alert alert-info">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    <strong>Note:</strong> The module name is <code>OrderLive</code> (singular) matching the schema name.
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                  </svg>
                  Build Assets and Start Server
                </h3>
                <p class="text-base-content/70 mb-3">Compile the assets and start the server:</p>
                <div class="relative">
                  <pre><code class="language-bash">$ mix assets.build
$ mix phx.server</code></pre>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  Test the Orders Interface
                </h3>
                <p class="text-base-content/70 mb-3">Navigate to the Orders interface at <code class="bg-base-300 px-2 py-1 rounded text-sm">http://localhost:4000/orders_selecto</code></p>

                <div class="alert alert-success">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    <div class="font-semibold">The Orders Explorer provides comprehensive sales data access:</div>
                    <ul class="mt-2 space-y-1 text-sm">
                      <li>‚Ä¢ Order headers with dates, status, and shipping information</li>
                      <li>‚Ä¢ Order details showing individual line items and products</li>
                      <li>‚Ä¢ Customer information for each order</li>
                      <li>‚Ä¢ Employee data showing who processed orders</li>
                      <li>‚Ä¢ Shipper information for delivery tracking</li>
                    </ul>
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                  </svg>
                  Powerful Order Analysis Queries
                </h3>
                <p class="text-base-content/70 mb-3">The Orders domain enables complex business intelligence queries. Try these examples:</p>

                <div class="grid gap-3">
                  <div class="p-4 bg-base-200 rounded-lg">
                    <div class="font-semibold text-sm mb-2">üìä Revenue by Customer</div>
                    <div class="text-xs text-base-content/60">
                      1. Include OrderDetails in your query<br/>
                      2. Group by Customer Company Name<br/>
                      3. Aggregate: Sum of (Unit Price √ó Quantity)<br/>
                      4. Sort by revenue descending
                    </div>
                  </div>

                  <div class="p-4 bg-base-200 rounded-lg">
                    <div class="font-semibold text-sm mb-2">üìà Monthly Sales Trends</div>
                    <div class="text-xs text-base-content/60">
                      1. Group by Order Date (month)<br/>
                      2. Include OrderDetails<br/>
                      3. Aggregate: Count orders and sum revenue<br/>
                      4. View as Graph for visualization
                    </div>
                  </div>

                  <div class="p-4 bg-base-200 rounded-lg">
                    <div class="font-semibold text-sm mb-2">üë• Employee Performance</div>
                    <div class="text-xs text-base-content/60">
                      1. Include Employee and OrderDetails<br/>
                      2. Group by Employee Name<br/>
                      3. Aggregate: Count of orders, Sum of revenue<br/>
                      4. Filter by date range for specific periods
                    </div>
                  </div>

                  <div class="p-4 bg-base-200 rounded-lg">
                    <div class="font-semibold text-sm mb-2">üöö Shipping Analysis</div>
                    <div class="text-xs text-base-content/60">
                      1. Include Shipper information<br/>
                      2. Group by Shipper Company Name<br/>
                      3. Aggregate: Average shipping cost, delivery time<br/>
                      4. Compare shipper performance metrics
                    </div>
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                  </svg>
                  What You've Accomplished
                </h3>
                <p class="text-base-content/70">With the Orders domain, you've now created a powerful sales analysis system that:</p>
                <ul class="list-disc list-inside text-sm text-base-content/70 ml-4 space-y-1 mt-2">
                  <li>Connects multiple business entities in a single interface</li>
                  <li>Enables complex multi-table queries without writing SQL</li>
                  <li>Provides instant visualization of sales metrics</li>
                  <li>Allows saving and sharing of business intelligence queries</li>
                  <li>Demonstrates Selecto's ability to handle real-world complexity</li>
                </ul>

                <div class="alert alert-info mt-4">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    <strong>Pro Tip:</strong> The Orders domain is ideal for creating dashboard views. Try saving different queries as views like "This Month's Sales", "Top Customers", or "Pending Orders" for quick access to key metrics.
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Step 5: Generate Employees/HR Domain -->
        <div id="step-5" class="card bg-base-100 shadow-xl scroll-mt-6">
          <div class="card-body">
            <div class="flex items-center gap-4 mb-4">
              <div class="w-12 h-12 bg-gradient-to-br from-info to-info-focus rounded-xl flex items-center justify-center text-white font-bold text-lg">5</div>
              <div>
                <h2 class="card-title text-2xl">Generate Employees/HR Domain</h2>
                <p class="text-base-content/70">Complete your HR management system</p>
              </div>
            </div>
            <p class="text-base-content/80 mb-6">The Employees domain represents the human resources aspect of the business, including employee information, reporting structures, and territorial assignments. This completes the core business domains of the Northwind system.</p>

            <div class="alert alert-info mb-6">
              <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <div>
                <strong>üí° For AI Agents:</strong> This domain includes self-referential relationships (employees reporting to other employees) and geographic territory assignments.
              </div>
            </div>

            <div class="space-y-6">
              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                  </svg>
                  Generate the Employees Domain
                </h3>

                <div class="alert alert-warning mb-3">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"></path>
                  </svg>
                  <div>
                    <strong>ü§ñ AI Agent Instructions:</strong>
                    <p class="mt-2">This command requires interactive responses. You MUST respond to two prompts with "Y":</p>
                    <ul class="list-disc ml-6 mt-2 text-xs">
                      <li>Prompt 1: "Do you want to proceed?" ‚Üí Answer: <code>Y</code></li>
                      <li>Prompt 2: "Integrate SelectoComponents?" ‚Üí Answer: <code>Y</code></li>
                    </ul>
                    <p class="mt-2 text-xs"><strong>Automated execution:</strong> Use: <code class="bg-yellow-100 dark:bg-yellow-900 text-yellow-900 dark:text-yellow-100 px-2 py-1 rounded">echo -e "Y\nY" | mix selecto.gen.domain ...</code></p>
                  </div>
                </div>

                <p class="text-base-content/70 mb-3">Run the following Mix task to generate the Employees domain with HR relationships (EmployeeTerritory, Territory, Orders):</p>
                <div class="relative">
                  <pre class="mb-4"><code class="language-bash">$ mix selecto.gen.domain SelectoNorthwind.Hr.Employee \
  --expand-schemas SelectoNorthwind.Hr.EmployeeTerritory \
    SelectoNorthwind.Geography.Territory \
    SelectoNorthwind.Sales.Order \
  --live --saved-views --path employees_selecto</code></pre>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  Understanding the HR Structure
                </h3>
                <div class="grid gap-3">
                  <div class="flex items-start gap-3 p-3 bg-base-200 rounded-lg">
                    <div class="w-2 h-2 bg-info rounded-full mt-2"></div>
                    <div><strong>Employee Hierarchy:</strong> Employees have a reports_to field creating organizational hierarchy</div>
                  </div>
                  <div class="flex items-start gap-3 p-3 bg-base-200 rounded-lg">
                    <div class="w-2 h-2 bg-info rounded-full mt-2"></div>
                    <div><strong>Territory Assignments:</strong> Employees are assigned to geographic territories through EmployeeTerritory</div>
                  </div>
                  <div class="flex items-start gap-3 p-3 bg-base-200 rounded-lg">
                    <div class="w-2 h-2 bg-info rounded-full mt-2"></div>
                    <div><strong>Sales Responsibility:</strong> Employees manage customer orders tracked through the Order relationship</div>
                  </div>
                  <div class="flex items-start gap-3 p-3 bg-base-200 rounded-lg">
                    <div class="w-2 h-2 bg-info rounded-full mt-2"></div>
                    <div><strong>Personal Information:</strong> Complete employee profiles with contact details, hire dates, and notes</div>
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                  </svg>
                  Configure the Generated Files
                </h3>

                <div class="space-y-4">
                  <div>
                    <h4 class="font-semibold mb-2">1. Add SavedView Support to Domain</h4>
                    <p class="text-base-content/70 mb-3">Add this line to <code class="bg-base-300 px-2 py-1 rounded text-sm">lib/selecto_northwind/selecto_domains/employees_domain.ex</code>:</p>
                    <div class="relative">
                      <pre><code class="language-elixir">defmodule SelectoNorthwind.SelectoDomains.EmployeesDomain do
  use SelectoNorthwind.SavedViewContext  # Add this line

  # ... rest of the domain configuration
end</code></pre>
                    </div>
                  </div>

                  <div>
                    <h4 class="font-semibold mb-2">2. Verify LiveView Configuration</h4>
                    <p class="text-base-content/70 mb-3">The generated LiveView should have the saved view context configured in <code class="bg-base-300 px-2 py-1 rounded text-sm">lib/selecto_northwind_web/live/employee_live.ex</code>:</p>
                    <div class="relative">
                      <pre><code class="language-elixir"># Should already be configured like this:
socket =
  assign(socket,
    saved_view_module: SelectoNorthwind.SelectoDomains.EmployeesDomain,
    saved_view_context: "/employees_selecto",
    available_saved_views: saved_views
  )</code></pre>
                    </div>
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-7-7 7-7m5 14l7-7-7-7" />
                  </svg>
                  Add Route to Router
                </h3>
                <p class="text-base-content/70 mb-3">Add the Employees LiveView route to your <code class="bg-base-300 px-2 py-1 rounded text-sm">lib/selecto_northwind_web/router.ex</code>:</p>
                <div class="relative">
                  <pre class="mb-3"><code class="language-elixir">scope "/", SelectoNorthwindWeb do
  pipe_through :browser

  # ... existing routes ...
  live "/products_selecto", ProductLive, :index
  live "/customers_selecto", CustomerLive, :index
  live "/orders_selecto", OrderLive, :index

  # Add this new route:
  live "/employees_selecto", EmployeeLive, :index
end</code></pre>
                </div>
                <div class="alert alert-info">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    <strong>Note:</strong> The module name is <code>EmployeeLive</code> (singular) matching the schema name.
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                  </svg>
                  Build Assets and Start Server
                </h3>
                <p class="text-base-content/70 mb-3">Compile the assets and start the server:</p>
                <div class="relative">
                  <pre><code class="language-bash">$ mix assets.build
$ mix phx.server</code></pre>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  Test the Employees Interface
                </h3>
                <p class="text-base-content/70 mb-3">Navigate to the Employees interface at <code class="bg-base-300 px-2 py-1 rounded text-sm">http://localhost:4000/employees_selecto</code></p>

                <div class="alert alert-success">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    <div class="font-semibold">The Employees Explorer provides comprehensive HR data management:</div>
                    <ul class="mt-2 space-y-1 text-sm">
                      <li>‚Ä¢ Employee profiles with complete contact information</li>
                      <li>‚Ä¢ Organizational hierarchy through reporting relationships</li>
                      <li>‚Ä¢ Territory assignments and geographic responsibilities</li>
                      <li>‚Ä¢ Sales order history for each employee</li>
                      <li>‚Ä¢ Employee photos and personal notes</li>
                    </ul>
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" />
                  </svg>
                  HR Analytics Queries to Try
                </h3>
                <p class="text-base-content/70 mb-3">The Employees domain enables sophisticated HR analytics. Experiment with these queries:</p>

                <div class="grid gap-3">
                  <div class="p-4 bg-base-200 rounded-lg">
                    <div class="font-semibold text-sm mb-2">üè¢ Organizational Structure</div>
                    <div class="text-xs text-base-content/60">
                      1. Filter by ReportsTo to see direct reports<br/>
                      2. Group by Manager to see team sizes<br/>
                      3. Use hierarchical queries to view org chart<br/>
                      4. Analyze reporting chains and depth
                    </div>
                  </div>

                  <div class="p-4 bg-base-200 rounded-lg">
                    <div class="font-semibold text-sm mb-2">üó∫Ô∏è Territory Coverage</div>
                    <div class="text-xs text-base-content/60">
                      1. Include EmployeeTerritory and Territory<br/>
                      2. Group by Region to see coverage<br/>
                      3. Identify territories with multiple reps<br/>
                      4. Find gaps in territorial coverage
                    </div>
                  </div>

                  <div class="p-4 bg-base-200 rounded-lg">
                    <div class="font-semibold text-sm mb-2">üíº Sales Performance by Employee</div>
                    <div class="text-xs text-base-content/60">
                      1. Include Orders relationship<br/>
                      2. Aggregate order counts and values<br/>
                      3. Compare performance across teams<br/>
                      4. Track sales trends by employee
                    </div>
                  </div>

                  <div class="p-4 bg-base-200 rounded-lg">
                    <div class="font-semibold text-sm mb-2">üìÖ Tenure Analysis</div>
                    <div class="text-xs text-base-content/60">
                      1. Calculate years of service from HireDate<br/>
                      2. Group by hire year for cohort analysis<br/>
                      3. Correlate tenure with performance<br/>
                      4. Identify anniversary milestones
                    </div>
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                  </svg>
                  Completing the Business System
                </h3>
                <p class="text-base-content/70">With the Employees domain, you've now built a complete business intelligence system covering:</p>
                <ul class="list-disc list-inside text-sm text-base-content/70 ml-4 space-y-1 mt-2">
                  <li><strong>Products:</strong> Inventory and catalog management</li>
                  <li><strong>Customers:</strong> Client relationships and demographics</li>
                  <li><strong>Orders:</strong> Sales transactions and fulfillment</li>
                  <li><strong>Employees:</strong> Human resources and organizational structure</li>
                </ul>

                <div class="alert alert-info mt-4">
                  <svg class="w-6 h-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    <strong>Pro Tip:</strong> The Employee domain's self-referential relationship (reports_to) demonstrates Selecto's ability to handle recursive structures. Try creating views that show complete organizational hierarchies or team structures.
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Navigation -->
        <div class="mt-12 flex justify-between items-center">
          <a href="/" class="btn btn-outline gap-2">
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
            </svg>
            Back to Home
          </a>
          <div class="text-sm text-base-content/60">
            More tutorial steps coming soon - explore the generated features in the meantime!
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>
</div>
